- **CNAME 是将xxx.cloudfrontet的域名更改成自定义的域名。因为网站上的映泰内容打开后会显示cloudfront.net/image1.png ，而使用自己的域名，会让网站的url更同意更完整**
  ![](https://i.loli.net/2019/07/12/5d2802028a69b83575.png)




-----

-----

-----


知识点
- 边缘站点（Edge Location）：边缘站点是内容缓存的地方，它存在于多个网络服务提供商的机房，它和AWS区域和可用区是完全不一样的概念。截至2018年中，AWS目前一共有100多个边缘站点。
- 源（Origin）：这是CDN缓存的内容所使用的源，源可以是一个S3存储桶，可以是一个EC2实例，一个弹性负载均衡器（ELB）或Route53，甚至可以是AWS之外的资源。
- 分配（Distribution）：AWS CloudFront创建后的名字
- 分配分为两种类型，分别是
  - Web Distribution：一般的网站应用
  - RTMP (Real-Time Messaging Protocol)：媒体流
- **你不只是可以从边缘站点读取数据，你还可以往边缘站点写入数据（比如上传一个文件），边缘站点会将你写入的数据同步到源上**
  - S3 传输加速
- 在CloudFront上的文件会被缓存在边缘节点，缓存的时间是TTL（Time To Live）。文件存在超过这个时间，缓存会被自动清除
- 如果在到达TTL时间之前，你希望更新文件，那么你也可以手动清除缓存，但你将会被AWS收取一定的费用

# 
- CDN实际上是origin内容的缓存，那么如果origin的内容发生了变化，CDN如何做同步更新？
  - 第一个方法是等内容过期，CDN有内容的过期时间，可以在HTTP头部定义。第二个方法是可以强制让CDN更新，让CDN重新读取Origin内容，但这个操作需要付一定费用。
- TL的时间过期了以后，边缘站点的缓存内容就会被删除，那终端用户就只能访问源的内容了吗，这个时候我们要手动再往边缘站点推送一次缓存内容吗？
  - 不需要，当TTL时间过期之后，CDN节点会自动找源进行更新，然后给用户。用户永远只访问CDN节点，不直接访问源的。





![](https://i.loli.net/2019/06/16/5d05faef7c84f47931.png)
![](https://i.loli.net/2019/06/16/5d05faf3e65ef53022.png)
